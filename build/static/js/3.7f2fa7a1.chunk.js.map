{"version":3,"sources":["components/errorMessage/error.png","components/errorMessage/ErrorMessage.js","services/MarvelService.js","hooks/http.hook.js","resources/img/mjolnir.png","components/randomChar/RandomChar.js","components/charList/CharList.js","components/skeleton/Skeleton.js","components/charInfo/CharInfo.js","components/errorBoundary/ErrorBoundary.js","resources/img/vision.png","components/pages/MainPage.js"],"names":["ErrorMessage","src","img","alt","useMarvelService","useState","loading","setLoading","error","setError","request","useCallback","url","a","method","body","headers","fetch","response","ok","Error","status","json","data","message","clearError","useHttp","_apiBase","_apiKey","getAllCharacters","offset","res","results","map","_transformCharacter","getCharacter","id","getAllComics","_transformComics","getComic","char","name","description","thumbnail","path","extension","homepage","urls","wiki","comics","items","title","pageCount","language","textObjects","price","prices","View","className","style","objectFit","href","RandomChar","setChar","onCharLoaded","useEffect","updateChar","Math","floor","random","then","errorMessage","spinner","Spinner","content","onClick","mjolnir","CharList","props","charList","setCharList","newItemLoading","setNewItemLoading","setOffset","charEnded","setCharEnded","activeChar","setActiveChar","onRequest","initial","onCharListLoaded","newCharList","ended","length","arr","item","imgStyle","tabIndex","onCharSelected","renderItems","display","disabled","Skeleton","i","CharInfo","prevCharIdRef","useRef","current","charId","skeleton","ErrorBoundary","state","errorInfo","console","log","this","setState","children","Component","MainPage","selectedChar","decoration"],"mappings":"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","file":"static/js/3.7f2fa7a1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/error.339576a7.png\";","import img from \"./error.png\";\r\n\r\nconst ErrorMessage = () => {\r\n\treturn <img src={img} alt=\"Error\" />;\r\n};\r\n\r\nexport default ErrorMessage;\r\n","import { useHttp } from \"../hooks/http.hook\";\r\n\r\nconst useMarvelService = () => {\r\n\tconst { loading, request, error, clearError } = useHttp();\r\n\r\n\tconst _apiBase = \"https://gateway.marvel.com:443/v1/public/\";\r\n\tconst _apiKey = \"apikey=4fab0452b786e6a6fd4ea0afed8ce0bb\";\r\n\tconst _baseOffset = 210;\r\n\r\n\tconst getAllCharacters = async (offset = _baseOffset) => {\r\n\t\tconst res = await request(`${_apiBase}characters?limit=9&offset=${offset}&${_apiKey}`);\r\n\t\treturn res.data.results.map(_transformCharacter);\r\n\t};\r\n\r\n\tconst getCharacter = async (id) => {\r\n\t\tconst res = await request(`${_apiBase}characters/${id}?${_apiKey}`);\r\n\t\treturn _transformCharacter(res.data.results[0]);\r\n\t};\r\n\r\n\tconst getAllComics = async (offset = 0) => {\r\n\t\tconst res = await request(`${_apiBase}comics?orderBy=issueNumber&limit=8&offset=${offset}&${_apiKey}`);\r\n\t\treturn res.data.results.map(_transformComics);\r\n\t};\r\n\r\n\tconst getComic = async (id) => {\r\n\t\tconst res = await request(`${_apiBase}comics/${id}?${_apiKey}`);\r\n\t\treturn _transformComics(res.data.results[0]);\r\n\t};\r\n\r\n\tconst _transformCharacter = (char) => {\r\n\t\treturn {\r\n\t\t\tid: char.id,\r\n\t\t\tname: char.name,\r\n\t\t\tdescription: char.description ? char.description : (char.description = \"No description here\"),\r\n\t\t\tthumbnail: char.thumbnail.path + \".\" + char.thumbnail.extension,\r\n\t\t\thomepage: char.urls[0].url,\r\n\t\t\twiki: char.urls[1].url,\r\n\t\t\tcomics: char.comics.items,\r\n\t\t};\r\n\t};\r\n\r\n\tconst _transformComics = (comics) => {\r\n\t\treturn {\r\n\t\t\tid: comics.id,\r\n\t\t\ttitle: comics.title,\r\n\t\t\tdescription: comics.description || \"There is no description\",\r\n\t\t\tpageCount: comics.pageCount ? `${comics.pageCount} p.` : \"No information about the number of pages\",\r\n\t\t\tthumbnail: comics.thumbnail.path + \".\" + comics.thumbnail.extension,\r\n\t\t\tlanguage: comics.textObjects[0]?.language || \"en-us\",\r\n\t\t\tprice: comics.prices[0].price ? `${comics.prices[0].price}$` : \"not available\",\r\n\t\t};\r\n\t};\r\n\r\n\treturn {\r\n\t\tloading,\r\n\t\terror,\r\n\t\tclearError,\r\n\t\tgetAllCharacters,\r\n\t\tgetCharacter,\r\n\t\tgetAllComics,\r\n\t\tgetComic,\r\n\t};\r\n};\r\n\r\nexport default useMarvelService;\r\n","import { useState, useCallback } from \"react\";\r\n\r\nexport const useHttp = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState(null);\r\n\r\n\tconst request = useCallback(async (url, method = \"GET\", body = null, headers = { \"Content-Type\": \"application/json\" }) => {\r\n\t\tsetLoading(true);\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(url, { method, body, headers });\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tthrow new Error(`Could not fetch ${url}, status: ${response.status}`);\r\n\t\t\t}\r\n\t\t\tconst data = await response.json();\r\n\t\t\tsetLoading(false);\r\n\t\t\treturn data;\r\n\t\t} catch (e) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetError(e.message);\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst clearError = useCallback(() => setError(null), []);\r\n\r\n\treturn { loading, request, error, clearError };\r\n};\r\n","export default __webpack_public_path__ + \"static/media/mjolnir.61f31e18.png\";","import { useState, useEffect, useRef } from \"react\";\nimport useMarvelService from \"../../services/MarvelService\";\nimport Spinner from \"../spinner/Spinner\";\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\nimport mjolnir from \"../../resources/img/mjolnir.png\";\nimport \"./randomChar.scss\";\n\nconst RandomChar = () => {\n\tconst [char, setChar] = useState({});\n\n\tconst { loading, error, getCharacter, clearError } = useMarvelService();\n\n\tconst onCharLoaded = (char) => {\n\t\tsetChar(char);\n\t};\n\n\tuseEffect(() => {\n\t\tupdateChar();\n\t}, []);\n\n\tconst updateChar = () => {\n\t\tclearError();\n\t\tconst id = Math.floor(Math.random() * (1011400 - 1011000) + 1011000);\n\t\tgetCharacter(id).then(onCharLoaded);\n\t};\n\n\tconst errorMessage = error ? <ErrorMessage /> : null;\n\tconst spinner = loading ? <Spinner /> : null;\n\tconst content = !(loading || error) ? <View char={char} /> : null;\n\n\treturn (\n\t\t<div className=\"randomchar\">\n\t\t\t{errorMessage}\n\t\t\t{spinner}\n\t\t\t{content}\n\t\t\t<div className=\"randomchar__static\">\n\t\t\t\t<p className=\"randomchar__title\">\n\t\t\t\t\tRandom character for today!\n\t\t\t\t\t<br />\n\t\t\t\t\tDo you want to get to know him better?\n\t\t\t\t</p>\n\t\t\t\t<p className=\"randomchar__title\">Or choose another one</p>\n\t\t\t\t<button className=\"button button__main\" onClick={() => updateChar()}>\n\t\t\t\t\t<div className=\"inner\">try it</div>\n\t\t\t\t</button>\n\t\t\t\t<img src={mjolnir} alt=\"mjolnir\" className=\"randomchar__decoration\" />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst View = ({ char }) => {\n\tconst { name, description, thumbnail, homepage, wiki } = char;\n\n\treturn (\n\t\t<div className=\"randomchar__block\">\n\t\t\t<img\n\t\t\t\tsrc={thumbnail}\n\t\t\t\talt=\"Random character\"\n\t\t\t\tclassName=\"randomchar__img\"\n\t\t\t\tstyle={{\n\t\t\t\t\tobjectFit: thumbnail === \"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg\" ? \"contain\" : \"cover\",\n\t\t\t\t}}\n\t\t\t/>\n\n\t\t\t<div className=\"randomchar__info\">\n\t\t\t\t<p className=\"randomchar__name\">{name}</p>\n\t\t\t\t<p className=\"randomchar__descr\">{description}</p>\n\t\t\t\t<div className=\"randomchar__btns\">\n\t\t\t\t\t<a href={homepage} className=\"button button__main\">\n\t\t\t\t\t\t<div className=\"inner\">Homepage</div>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a href={wiki} className=\"button button__secondary\">\n\t\t\t\t\t\t<div className=\"inner\">Wiki</div>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default RandomChar;\n","import { useState, useEffect, useRef } from \"react\";\nimport Spinner from \"../spinner/Spinner\";\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\nimport useMarvelService from \"../../services/MarvelService\";\nimport \"./charList.scss\";\n\nconst CharList = (props) => {\n\tconst [charList, setCharList] = useState([]);\n\tconst [newItemLoading, setNewItemLoading] = useState(false);\n\tconst [offset, setOffset] = useState(1420);\n\tconst [charEnded, setCharEnded] = useState(false);\n\tconst [activeChar, setActiveChar] = useState(null);\n\n\tconst { loading, error, getAllCharacters } = useMarvelService();\n\n\tuseEffect(() => {\n\t\tonRequest(offset, true);\n\t}, []);\n\n\tconst onRequest = (offset, initial) => {\n\t\tinitial ? setNewItemLoading(false) : setNewItemLoading(true);\n\t\tgetAllCharacters(offset).then(onCharListLoaded);\n\t};\n\n\tconst onCharListLoaded = (newCharList) => {\n\t\tlet ended = false;\n\n\t\tif (newCharList.length < 9) {\n\t\t\tended = true;\n\t\t}\n\n\t\tsetCharList((charList) => [...charList, ...newCharList]);\n\t\tsetNewItemLoading((newItemLoading) => false);\n\t\tsetOffset((offset) => offset + 9);\n\t\tsetCharEnded((charEnded) => ended);\n\t};\n\tfunction renderItems(arr) {\n\t\tconst items = arr.map((item) => {\n\t\t\tlet imgStyle = {\n\t\t\t\tobjectFit: \"cover\",\n\t\t\t};\n\t\t\tif (item.thumbnail === \"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg\") {\n\t\t\t\timgStyle = {\n\t\t\t\t\tobjectFit: \"unset\",\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<li\n\t\t\t\t\tclassName={`char__item ${activeChar === item.id ? \"char__item_selected\" : \"\"}`}\n\t\t\t\t\tkey={item.id}\n\t\t\t\t\ttabIndex={0}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tprops.onCharSelected(item.id);\n\t\t\t\t\t\tsetActiveChar((activeChar) => item.id);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<img src={item.thumbnail} alt={item.name} style={imgStyle} />\n\t\t\t\t\t<div className=\"char__name\">{item.name}</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\t\t// А эта конструкция вынесена для центровки спиннера/ошибки\n\t\treturn <ul className=\"char__grid\">{items}</ul>;\n\t}\n\n\tconst items = renderItems(charList);\n\n\tconst errorMessage = error ? <ErrorMessage /> : null;\n\tconst spinner = loading && !newItemLoading ? <Spinner /> : null;\n\n\treturn (\n\t\t<div className=\"char__list\">\n\t\t\t{errorMessage}\n\t\t\t{spinner}\n\t\t\t{items}\n\t\t\t<button\n\t\t\t\tclassName=\"button button__main button__long\"\n\t\t\t\tstyle={{ display: charEnded ? \"none\" : \"block\" }}\n\t\t\t\tdisabled={newItemLoading}\n\t\t\t\tonClick={() => onRequest(offset)}\n\t\t\t>\n\t\t\t\t<div className=\"inner\">load more</div>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default CharList;\n","import './skeleton.scss';\n\nconst Skeleton = () => {\n    return (\n        <>\n            <p className=\"char__select\">Please select a character to see information</p>\n            <div className=\"skeleton\">\n                <div className=\"pulse skeleton__header\">\n                    <div className=\"pulse skeleton__circle\"></div>\n                    <div className=\"pulse skeleton__mini\"></div>\n                </div>\n                <div className=\"pulse skeleton__block\"></div>\n                <div className=\"pulse skeleton__block\"></div>\n                <div className=\"pulse skeleton__block\"></div>\n            </div>\n        </>\n    )\n}\n\nexport default Skeleton;","import { useState, useEffect, useRef } from \"react\";\nimport useMarvelService from \"../../services/MarvelService\";\nimport Spinner from \"../spinner/Spinner\";\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\nimport Skeleton from \"../skeleton/Skeleton\";\nimport \"./charInfo.scss\";\n\nconst CharInfo = (props) => {\n\tconst [char, setChar] = useState(null);\n\n\tconst { loading, error, getCharacter, clearError } = useMarvelService();\n\tconst prevCharIdRef = useRef();\n\n\tuseEffect(() => {\n\t\tupdateChar();\n\t\tprevCharIdRef.current = props.charId;\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (prevCharIdRef.current !== props.charId) {\n\t\t\tupdateChar();\n\t\t\tprevCharIdRef.current = props.charId;\n\t\t}\n\t}, [props.charId]);\n\n\tconst updateChar = () => {\n\t\tif (!props.charId) {\n\t\t\treturn;\n\t\t}\n\t\tclearError();\n\t\tgetCharacter(props.charId).then(onCharLoaded);\n\t};\n\n\tconst onCharLoaded = (char) => {\n\t\tsetChar(char);\n\t};\n\n\tconst skeleton = char || loading || error ? null : <Skeleton />;\n\tconst errorMessage = error ? <ErrorMessage /> : null;\n\tconst spinner = loading ? <Spinner /> : null;\n\tconst content = !(loading || error || !char) ? <View char={char} /> : null;\n\n\treturn (\n\t\t<div className=\"char__info\">\n\t\t\t{skeleton}\n\t\t\t{errorMessage}\n\t\t\t{spinner}\n\t\t\t{content}\n\t\t</div>\n\t);\n};\n\nconst View = ({ char }) => {\n\tconst { name, description, thumbnail, homepage, wiki, comics } = char;\n\treturn (\n\t\t<>\n\t\t\t<div className=\"char__basics\">\n\t\t\t\t<img\n\t\t\t\t\tsrc={thumbnail}\n\t\t\t\t\talt=\"{name}\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tobjectFit: thumbnail === \"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg\" ? \"contain\" : \"cover\",\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"char__info-name\">{name}</div>\n\t\t\t\t\t<div className=\"char__btns\">\n\t\t\t\t\t\t<a href={homepage} className=\"button button__main\">\n\t\t\t\t\t\t\t<div className=\"inner\">Homepage</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a href={wiki} className=\"button button__secondary\">\n\t\t\t\t\t\t\t<div className=\"inner\">Wiki</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"char__descr\">{description}</div>\n\t\t\t<div className=\"char__comics\">Comics:</div>\n\t\t\t<ul className=\"char__comics-list\">\n\t\t\t\t{comics.length > 0 ? null : \"There is no comics with this character\"}\n\t\t\t\t{comics.map((item, i) => {\n\t\t\t\t\tif (i > 9) return;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={i} className=\"char__comics-item\">\n\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t</>\n\t);\n};\n\nexport default CharInfo;\n","import { Component } from \"react\";\r\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\r\n\r\nclass ErrorBoundary extends Component {\r\n\tstate = {\r\n\t\terror: false,\r\n\t};\r\n\r\n\tcomponentDidCatch(error, errorInfo) {\r\n\t\tconsole.log(error, errorInfo);\r\n\r\n\t\tthis.setState({\r\n\t\t\terror: true,\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.error) {\r\n\t\t\treturn <h2>Something went wrong! :c</h2>;\r\n\t\t}\r\n\r\n\t\treturn this.props.children;\r\n\t}\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","export default __webpack_public_path__ + \"static/media/vision.067d4ae1.png\";","import { useState } from \"react\";\r\nimport RandomChar from \"../randomChar/RandomChar\";\r\nimport CharList from \"../charList/CharList\";\r\nimport CharInfo from \"../charInfo/CharInfo\";\r\nimport ErrorBoundary from \"../errorBoundary/ErrorBoundary\";\r\n\r\nimport decoration from \"../../resources/img/vision.png\";\r\n\r\nconst MainPage = () => {\r\n\tconst [selectedChar, setChar] = useState(null);\r\n\r\n\tconst onCharSelected = (id) => {\r\n\t\tsetChar(id);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ErrorBoundary>\r\n\t\t\t\t<RandomChar />\r\n\t\t\t</ErrorBoundary>\r\n\t\t\t<div className=\"char__content\">\r\n\t\t\t\t<CharList onCharSelected={onCharSelected} />\r\n\t\t\t\t<ErrorBoundary>\r\n\t\t\t\t\t<CharInfo charId={selectedChar} />\r\n\t\t\t\t</ErrorBoundary>\r\n\t\t\t</div>\r\n\t\t\t<img className=\"bg-decoration\" src={decoration} alt=\"vision\" />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default MainPage;\r\n"],"sourceRoot":""}